<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>What &amp; Why</title><link type="text/css" rel="stylesheet" href="public/anatomy.css" /><link type="text/css" rel="stylesheet" href="public/highlight.css" /><script type="text/javascript" src="public/jquery.js"></script><script type="text/javascript" src="public/jquery.hotkeys.js"></script><script type="text/javascript" src="public/tags_what-and-why.js"></script><script type="text/javascript" src="public/main.js"></script></head><body class="normal"><div id="main"><div id="content"><div class="section" id="section_what-and-why"><h1 class="section_header"><a name="what-and-why"></a>What &amp; Why</h1><p>There are countless CI options out there. Transitioning from one CI system to
another can be a huge investment depending on the size of your project.</p><p>Part of this risk stems from projects being coupled to the intricacies of their
existing CI software, and learning the intricacies of the next one. Or it&#39;s
simply the number of potential variables to accidentally change when switching
so many builds over, manually clicking around in the new system&#39;s wizard-like
UI.</p><p>Concourse holds the following principles to heart. Collectively they reduce the
risk of switching to and from Concourse, by encouraging practices that decouple
your project from your CI infrastructure&#39;s little details.</p><p>If these principles align with yours, it&#39;s worth a shot.</p><div class="section" id="section_simple"><h2 class="section_header"><a name="simple"></a>Simple</h2><p>Over the years, you&#39;ve probably learned way too many little details about how
your CI system operates.</p><p>Concourse is a response to the complexity introduced by other systems. It is
built on the idea that the best tools can be learned in one sitting.</p><p>The focus has not been on adding feature after feature, checkbox after
checkbox. Instead, Concourse defines three primitives that, together, can
express arbitrary features and pipelines.</p><p>To learn them, see <a href="concepts.html">Concepts</a>.</p></div><div class="section" id="section_usable"><h2 class="section_header"><a name="usable"></a>Usable</h2><p>Concourse is optimized for quickly navigating to the pages you most care about.
From the main page, a single click takes you from a pipeline view to the log of
a job&#39;s latest failing build.</p><p>From there, the job&#39;s entire build history is displayed, and every input for
the job is listed with any new inputs highlighted.</p><p>The build log is colorized and supports unicode. It emulates your terminal and
gets out of your way.</p></div><div class="section" id="section_isolated-builds"><h2 class="section_header"><a name="isolated-builds"></a>Isolated Builds</h2><p>Managing the state of the worker VMs in other CI systems is a nightmare. Build
pollution is a constant threat, and the workers have to constantly be tweaked
to make sure they&#39;re providing the right things for every build.</p><p>In Concourse, the workers are stateless. Every task executes in a container
defined by its own configuration. Multiple teams can use the same Concourse
deployment without worrying about the state of the worker VMs.</p><p>See <a href="tasks.html">Tasks</a>.</p></div><div class="section" id="section_scalable-reproducible-deployment"><h2 class="section_header"><a name="scalable-reproducible-deployment"></a>Scalable, reproducible deployment</h2><p>No Concourse deployment is a snowflake. There are no boxes to check; no
configuration happens at runtime.</p><p>Concourse is statically configured, and as a result can always be recreated
from scratch with a single BOSH deploy. If your deployment&#39;s infrastructure
burns down, just deploy it somewhere else.</p><p>As heavier workloads come in, scaling up the workers is as easy as bumping a
number in your BOSH deployment manifest. Scaling back down is the same routine.</p><p>See <a href="getting-started.html#deploying-with-bosh">Deploying a cluster with BOSH</a>.</p></div><div class="section" id="section_flexible"><h2 class="section_header"><a name="flexible"></a>Flexible</h2><p>Features that other systems implement in the core of the product, Concourse
implements in &quot;userland&quot;, as <a href="resources.html">resources</a>. This keeps the
core of Concourse small and simple, and proves out the exensibility introduced
by this simple interface.</p><p>The following are features implemented entirely as resources, in the same way
that any user can extend Concourse&#39;s functionality:</p><ul><li><p>Timed build triggers are implemented as a
<a href="https://github.com/concourse/time-resource">Time</a> resource.</p></li><li><p>Integrating with Git repositories is done via the
<a href="https://github.com/concourse/resource-images/tree/master/git">Git</a> resource.</p></li><li><p>Auto-delivering stories in <a href="https://pivotaltracker.com">Pivotal
  Tracker</a> is implemented as a
<a href="https://github.com/concourse/tracker-resource">Tracker</a>
resource.</p></li><li><p>Tracking and bumping version numbers is done with the
<a href="https://github.com/concourse/semver-resource">Semver</a>
resource. In other systems people end up depending on build numbers, and
things get funny when they roll over to 1 again in a new deployment.</p></li><li><p>Integrating with and delivering objects to S3 buckets is provided by the
<a href="https://github.com/concourse/s3-resource">S3</a> resource.</p></li><li><p>Building a pipeline for Docker images is provided by the
<a href="https://github.com/concourse/resource-images/tree/master/docker-image">Docker
  Image</a> resource. Interestingly, this is what is used for delivering the
resource images themselves.</p></li></ul><p>...and more are coming.</p><p>By using resources for this, all integration points are explicit parts of the
pipeline, visualized on the front page. It forces the issue of having a
stateless CI system, by externalizing all important artifacts (even version
numbers) to concrete objects outside of the system. This further decouples you
from your CI.</p><p>See <a href="resources.html">Resources</a> and <a href="implementing-resources.html">Implementing a Resource</a>.</p></div><div class="section" id="section_local-iteration"><h2 class="section_header"><a name="local-iteration"></a>Local iteration</h2><p>Everyone knows this dance: set up CI, push, build fails. Fix config, push,
build fails... 20 commits later, a green dot and a messy repo history.</p><p>Concourse&#39;s support for running one-off builds from local task configuration
eliminates this pesky workflow, and allows you to trust that your build
running locally runs <em>exactly</em> the same way that it runs in your
pipeline.</p><p>The workflow then becomes: set up CI, configure build locally, <code>fly</code>,
build fails (we can&#39;t fix that), fix things up, <code>fly</code>...</p><p>At the end of this, instead of 20 junk commits pushed to your repo, you&#39;ve
figured out a configuration for both running locally and running in CI.</p><p>See <a href="tasks.html">Tasks</a> and <a href="fly-cli.html#fly-execute"><code>execute</code>: Submitting Local Tasks</a>.</p></div><div class="section" id="section_bootstrapped"><h2 class="section_header"><a name="bootstrapped"></a>Bootstrapped</h2><p>Proving all of this works is hard without having a real use case. Thankfully,
Concourse itself is a sufficiently large piece of work that its own pipeline
has been plenty to cut its teeth on.</p><p>Initially this array of squares may be a lot to take in, but on your own
projects, where <em>reality</em> is this complicated, you&#39;ll appreciate the
straightforward expression of every relationship.</p><p>At the start of the pipeline are jobs configured for each individual component.
These jobs simply run their unit tests, and are the first line of defense.</p><p>The versions of each component that make it through this stage are then fed
into an integration job, which spins every component up in a room and makes
them talk to each other.</p><p>From there, the Docker images used for the resource types within the
integration build are shipped, and the ref of each successful resource is
bumped in the BOSH release repository.</p><p>Because the release repo changed, a Deploy job kicks in, which literally
<em>deploys to the same instance running the Deploy job</em>. Concourse&#39;s own
pipeline drives out the need for deploys to not trash every running build.</p><p>After a deploy succeeds, the Concourse version number resource is bumped, and
new artifacts are available for shipping into a new release.</p><p>At any point in time, I can walk in and trigger the <code>shipit</code> job, which
takes the most recently built release candidate, bumps its version resource to
a final number (<code>0.3.0.rc.3</code> → <code>0.3.0</code>), and uploads a <code>.tgz</code>
to the S3 bucket containing final releases.</p><p>Though the above chain of events may sound complicated, in reality it is just a
bunch of simple functions of inputs → outputs.</p></div></div></div></div><div class="search"><form action="javascript:void(0)"><input type="text" placeholder="Search&hellip;" autocomplete="off" id="search" /></form><ul class="search_results"></ul></div><div id="sidebar"><h4>On this page:</h4><ol class="toc"><li><a href="what-and-why.html#simple">Simple</a></li><li><a href="what-and-why.html#usable">Usable</a></li><li><a href="what-and-why.html#isolated-builds">Isolated Builds</a></li><li><a href="what-and-why.html#scalable-reproducible-deployment">Scalable, reproducible deployment</a></li><li><a href="what-and-why.html#flexible">Flexible</a></li><li><a href="what-and-why.html#local-iteration">Local iteration</a></li><li><a href="what-and-why.html#bootstrapped">Bootstrapped</a></li></ol><h4>Up one level:</h4><ol class="toc"><li><a href="index.html">Concourse: CI that scales with your project</a><ol><li><a href="what-and-why.html">What &amp; Why</a><ol><li><a href="what-and-why.html#simple">Simple</a></li><li><a href="what-and-why.html#usable">Usable</a></li><li><a href="what-and-why.html#isolated-builds">Isolated Builds</a></li><li><a href="what-and-why.html#scalable-reproducible-deployment">Scalable, reproducible deployment</a></li><li><a href="what-and-why.html#flexible">Flexible</a></li><li><a href="what-and-why.html#local-iteration">Local iteration</a></li><li><a href="what-and-why.html#bootstrapped">Bootstrapped</a></li></ol></li><li><a href="concepts.html">Concepts</a><ol><li><a href="tasks.html">Tasks</a><ol><li><a href="tasks.html#runtime-environment">Runtime Environment</a></li></ol></li><li><a href="resources.html">Resources</a></li><li><a href="jobs.html">Jobs</a><ol><li><a href="jobs.html#job-builds">Builds</a></li></ol></li></ol></li><li><a href="getting-started.html">Getting Started</a><ol><li><a href="getting-started.html#deploying-with-vagrant">Provisioning with Vagrant</a></li><li><a href="getting-started.html#deploying-with-bosh">Deploying a cluster with BOSH</a><ol><li><a href="getting-started.html#setting-up-the-infrastructure">Setting up the infrastructure</a><ol><li><a href="getting-started.html#bosh-lite">BOSH-Lite</a></li><li><a href="getting-started.html#aws">AWS</a></li><li><a href="getting-started.html#vsphere-openstack">vSphere, OpenStack</a></li></ol></li><li><a href="getting-started.html#deploying-and-upgrading-concourse">Deploying and upgrading Concourse</a><ol><li><a href="getting-started.html#upload-the-stemcell">Upload the stemcell</a></li><li><a href="getting-started.html#upload-the-concourse-and-garden-releases">Upload the Concourse &amp; Garden releases</a></li><li><a href="getting-started.html#bosh-properties">Configure &amp; Deploy</a></li></ol></li></ol></li></ol></li><li><a href="fly-cli.html">The Fly CLI</a><ol><li><a href="fly-cli.html#targeting-your-concourse">Targeting your Concourse</a></li><li><a href="fly-cli.html#fly-save-target"><code>save-target</code>: Saving Concourse Targets</a></li><li><a href="fly-cli.html#fly-execute"><code>execute</code>: Submitting Local Tasks</a><ol><li><a href="fly-cli.html#multiple-inputs-to-locally-submitted-tasks">Multiple Inputs to Locally Submitted Tasks</a></li></ol></li><li><a href="fly-cli.html#fly-configure"><code>configure</code>: Configuring Pipelines</a><ol><li><a href="fly-cli.html#parameters">Parameters</a></li></ol></li><li><a href="fly-cli.html#fly-destroy-pipeline"><code>destroy-pipeline</code>: Removing Pipelines</a></li><li><a href="fly-cli.html#fly-intercept"><code>intercept</code>: Accessing a running or recent build&#39;s steps</a></li><li><a href="fly-cli.html#fly-sync"><code>sync</code>: Update your local copy of @codefly</a></li><li><a href="fly-cli.html#fly-watch"><code>watch</code>: View logs of in-progress builds</a></li></ol></li><li><a href="running-tasks.html">Tasks</a><ol><li><a href="running-tasks.html#configuring-tasks">Configuring a Task</a></li><li><a href="running-tasks.html#fly">Running tasks with <code>fly</code></a></li></ol></li><li><a href="pipelines.html">Piplines</a><ol><li><a href="configuring-resources.html"><code>resources</code>: Objects flowing through the pipeline</a></li><li><a href="configuring-jobs.html"><code>jobs</code>: Plans to execute against resources</a></li><li><a href="configuring-groups.html"><code>groups</code>: Splitting up your pipeline into sections</a></li></ol></li><li><a href="build-plans.html">Build Plans</a><ol><li><a href="get-step.html"><code>get</code>: fetch a resource</a></li><li><a href="put-step.html"><code>put</code>: update a resource</a></li><li><a href="task-step.html"><code>task</code>: execute a task</a></li><li><a href="aggregate-step.html"><code>aggregate</code>: run steps in parallel</a></li><li><a href="do-step.html"><code>do</code>: run steps in series</a></li><li><a href="step-conditions.html"><code>conditions</code>: conditionally perform a step</a></li></ol></li><li><a href="implementing-resources.html">Implementing a Resource</a><ol><li><a href="implementing-resources.html#check:-check-for-new-versions."><code>check</code>: Check for new versions.</a></li><li><a href="implementing-resources.html#in:-fetch-a-given-resource."><code>in</code>: Fetch a given resource.</a></li><li><a href="implementing-resources.html#out:-update-a-resource."><code>out</code>: Update a resource.</a></li></ol></li></ol></li></ol></div></body></html>